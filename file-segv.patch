--- file-4.11/src/softmagic.c.orig	2004-11-21 07:09:43.000000000 +0100
+++ file-4.11/src/softmagic.c	2004-11-23 14:28:50.000000000 +0100
@@ -663,7 +663,7 @@
 	 * might even cause problems
 	 */
 	if (nbytes < sizeof(*p))
-		(void)memset(p + nbytes, '\0', sizeof(*p) - nbytes);
+		(void)memset(((char *)p) + nbytes, '\0', sizeof(*p) - nbytes);
 	return 0;
 }
 
