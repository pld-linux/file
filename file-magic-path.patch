--- file-4.00/src/apprentice.c.orig	Mon Mar 24 02:16:28 2003
+++ file-4.00/src/apprentice.c	Tue Mar 25 23:54:10 2003
@@ -1068,9 +1068,9 @@
 mkdbname(struct magic_set *ms, const char *fn, char *buf, size_t bufsiz)
 {
 	const char *p;
-	if ((p = strrchr(fn, '/')) != NULL)
+/*	if ((p = strrchr(fn, '/')) != NULL)
 		p++;
-	else
+	else */  /* huh? why searching .mck in current directory??? */
 		p = fn;
 	snprintf(buf, bufsiz, "%s%s", p, ext);
 	return buf;
